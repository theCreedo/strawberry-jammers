var counter = 0;
var song_count = 0;
var song_name = ["Sweetly Broken", "How Great Is Our God", "Center My Life", "King of Love", "Glorious Grace", "How He Loves", "Marvelous Light", "The Lion and the Lamb", "Pharoah Pharoah", "Before the Throne of God Above"]
lyrics = ['To the cross I look, to the cross I cling<br>Of its suffering I do drink<br>Of its work I do sing<br><br>For on it my Savior both bruised and crushed<br>Showed that God is love<br>And God is just<br><br>Chorus:<br>At the cross You beckon me<br>You draw me gently to my knees, and I am<br>Lost for words, so lost in love,<br>I am sweetly broken, wholly surrendered<br><br>What a priceless gift, undeserved life<br>Have I been given<br>Through Christ crucified<br><br>You have called me out of death<br>You have called me into life<br>And I was under Your wrath<br>Now through the cross I am reconciled <br><br>Chorus:<br><br>In awe of the cross I must confess<br>How wondrous Your redeeming love and<br>How great is Your faithfulness<br><br>(2x)<br>Chorus', 
'The splendor of a king<br>Clothed in majesty<br>Let all the earth rejoice<br>All the earth rejoice<br><br>He wraps Himself in light,<br>And darkness tries to hide<br>And trembles at His voice<br>Trembles at His voice<br><br>How great is our God<br>Sing with me<br>How great is our God<br>And all will see<br>How great, how great is our God<br><br>Age to age He stands<br>And time is in His hands<br>Beginning and the end<br>Beginning and the end<br><br>The Godhead Three in One<br>Father, Spirit and Son<br>The Lion and the Lamb<br>The Lion and the Lamb<br><br>How great is our God<br>Sing with me<br>How great is our God<br>And all will see<br>How great, how great is our God<br><br>Name above all names<br>Worthy of all praise<br>My heart will sing<br>How great is our God<br><br>Name above all names<br>You are worthy of all praise<br>And my heart will sing<br>How great is our God<br><br>[3x]<br>How great is our God<br>Sing with me<br>How great is our God<br>And all will see<br>How great, how great is our God<br>', 
'VERSE 1:<br>Turn my eyes to see you Jesus, in all your glory – turn my eyes<br>Tune my heart to sing in wonder, of how you love me – tune my heart<br><br>PRE-CHORUS:<br>Ohhh, my God, forever You reign<br>Here and now, hear the sound of Your Name<br><br>CHORUS:<br>Jesus, there is none more beautiful<br>Than Jesus, there is none more powerful<br>The risen Christ lifted high, Jesus now be glorified<br>Center my life on Your name, center my life on Your name<br><br>VERSE 2:<br>Turn my eyes away from searching for lesser glory – turn my eyes<br>Teach my heart with all your wisdom to live for Heaven – teach my heart<br><br>_to PRE-CHORUS CHORUS PRE-CHORUS<br><br>CHORUS 2:<br>Jesus, there is none more beautiful<br>Than Jesus, there is none more powerful<br>The risen Christ lifted high, Jesus now be glorified The risen Christ lifted high, Jesus now be glorified<br><br>_to CHORUS<br>', 'The King of Love my Shepherd is<br>Whose goodness faileth never<br>I nothing lack if I am His <br>And He is mine forever<br>And He is mine forever<br><br>Where streams of living water flow<br>My ransomed soul He leadeth<br>And where the verdant pastures grow<br>With food celestial feedeth<br><br>Never failing, Ruler of my heart<br>Everlasting, Lover of my soul<br>On the mountain high or in the valley low<br>The King of Love my Shepherd is<br>The King of Love my Shepherd is<br><br>Lost and foolish off I strayed<br>But yet in love He sought me<br>And on His shoulder gently laid<br>And home rejoicing brought me<br><br>In death’s dark veil I fear no ill<br>With Thee, dear Lord, beside me<br>Thy rod and staff my comfort still<br>Thy cross before to guide me<br><br>Never failing, Ruler of my heart<br>Everlasting, Lover of my soul<br>On the mountain high or in the valley low<br>The King of Love my Shepherd is<br>The King of Love my Shepherd is<br><br>Oh, Hallelujah, Hallelujah<br>Oh, Hallelujah, Hallelujah<br><br>Never failing, Ruler of my heart<br>Everlasting, Lover of my soul<br>On the mountain high or in the valley low<br>The King of Love my Shepherd is<br><br>Never failing, Ruler of my heart<br>Everlasting, Lover of my soul<br>On the mountain high or in the valley low<br>The King of Love my Shepherd is<br>The King of Love my Shepherd is<br><br>And so through all the length of days<br>Thy goodness faileth never<br>Good Shepherd, may I sing Your praise<br>Within Your house forever<br>Within Your house forever', 
'God I need You, I need You, I need You<br>Every breath, every pulse of my heart<br>Christ have mercy, have mercy, let mercy abound<br>I need You, I need You now<br><br>God pour out Your grace, glorious grace<br>That I would be held by Your perfect embrace<br>I am undeserving, You are high and worthy<br>All of my praise for this glorious grace<br><br>God I’m longing, I’m longing to see You<br>In Your presence all darkness will fade<br>Shine Your glory, Your glory, let glory surround<br>I’m longing to see You now<br><br>God Your grace, like rising seas<br>Has swallowed death and sin in me<br>God Your grace like rising seas<br>Has swallowed death and sin in me<br>Glory to my God who saves<br>Jesus Christ, my glorious grace<br>Glory to my God who saves<br>Jesus Christ, my glorious grace<br><br>God I worship, I worship, I worship You<br>For Your glory, my all in all You are worthy, You’re worthy, You’re worthy<br>I worship, I worship You<br>God I need You, I need You now', 
'He is jealous for me,<br>Love is like a hurricane, I am a tree,<br>Bending beneath the weight of His wind and mercy.<br>When all of a sudden,<br>I am unaware of these afflictions eclipsed by glory,<br>And I realize just how beautiful You are,<br>And how great Your affections are for me.<br><br>And, oh, how He loves us, oh,<br>Oh, how He loves us,<br>How He loves us all.<br><br>And He is jealous for me,<br>Love is like a hurricane, I am a tree,<br>Bending beneath the weight of His wind and mercy.<br>When all of a sudden<br>I am unaware of these afflictions eclipsed by glory.<br>And I realize just how beautiful You are,<br>And how great Your affections are for me.<br><br>And, oh, how He loves us, oh,<br>Oh, how He loves us,<br>How He loves us all<br><br>Yeah, He loves us,<br>Oh, how He loves us,<br>Oh, how He loves us,<br>Oh, how He loves.<br><br>And we are His portion and He is our prize,<br>Drawn to redemption by the grace in His eyes.<br>If His grace is an ocean, we are all sinking.<br>And Heaven meets earth like an unforeseen kiss,<br>And my heart turns violently inside of my chest.<br>I do not have time to maintain these regrets<br>When I think about the way...<br><br>That He loves us,<br>Oh, how He loves us,<br>Oh, how He loves us,<br>Oh, how He loves.<br><br>Yeah, He loves us,<br>Oh, how He loves us,<br>Oh, how He loves us,<br>Oh, how He loves.<br><br>Yeah, He loves us,<br>Oh, how He loves us.<br>Oh, how He loves us.<br>Oh, how He loves.', 
'I once was fatherless<br>A stranger with no hope<br>Your kindness wakened me<br>Awakened me, from my sleep<br><br>Your love it beckons deeply<br>A call to come and die<br>By grace now I will come<br>And take this life, take Your life<br><br>Sin has lost it is power<br>Death has lost it is sting<br>From the grave you have risen<br>Victoriously!<br><br>Into marvelous light I am running<br>Out of darkness, out of shame<br>By the cross You are the truth<br>You are the life, You are the way<br><br>My dead heart now is beating<br>My deepest stains now clean<br>Your breath fills up my lungs.<br>Now I am free, now I am free!<br><br>Lift my hands and spin around<br>See the light that I have found<br>Oh the marvelous light<br>Marvelous light...', 
'He is coming on the clouds, kings and kingdoms will bow down<br>And every chain will break, as broken hearts declare His praise<br>Who can stop the Lord Almighty?<br><br>Our God is the Lion, the Lion of Judah<br>He is roaring with power and fighting our battles<br>And every knee will bow before Him<br>Our God is the Lamb, the Lamb that was slain<br>For the sin of the world, His blood breaks the chains<br>And every knee will bow before the Lion and the Lamb<br>Oh every knee will bow before the Lion and the Lamb<br><br>So open up the gates, make way before the King of kings<br>Our God who comes to save is here to set the captives free<br>For who can stop the Lord Almighty?<br><br>Our God is the Lion, the Lion of Judah<br>He is roaring with power and fighting our battles<br>And every knee will bow before Him<br>Our God is the Lamb, the Lamb that was slain<br>For the sin of the world, His blood breaks the chains<br>And every knee will bow before the Lion and the Lamb<br>Oh every knee will bow before the Lion and the Lamb<br><br>Who can stop the Lord Almighty?<br>Who can stop the Lord Almighty?<br>Who can stop the Lord Almighty?<br>Who can stop the Lord Almighty?<br><br>Oh who can stop the Lord Almighty?<br>Who can stop the Lord Almighty?<br>Oh who can stop the Lord Almighty?<br>Who can stop the Lord?<br><br>Our God is the Lion, the Lion of Judah<br>He is roaring with power and fighting our battles<br>And every knee will bow before Him<br>Our God is the Lamb, the Lamb that was slain<br>For the sin of the world, His blood breaks the chains<br>And every knee will bow before the Lion and the Lamb<br>Oh every knee will bow before the Lion and the Lamb<br>And every knee will bow before the Lion and the Lamb<br>Every knee will bow before the Lion and the Lamb', 
'[Chorus]<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br><br>[Verse 1]<br>Well, the burning bush told me just the other day<br>That I should come over here and say<br>Got to get my people out of Pharaohs hand<br>And lead them on over to the Promised Land<br><br>[Chorus]<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br><br>[Verse 2]<br>Well, all of Gods people came to the Red Sea<br>With Pharaohs army coming after me<br>I raised my rod, stuck it in the sand<br>And all of Gods people walked across dry land<br><br>[Chorus]<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br><br>[Verse 3]<br>Well, all of Pharaohs army was coming too<br>So what do you think that I did do?<br>I raised my rod and cleared my throat<br>And all of Pharaohs army did the dead mans float<br><br>[Chorus]<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br>I say Pharaoh, Pharaoh<br>Oh baby let my people go!<br>Huh! Yeah, yeah, yeah<br><br>[Additional Chorus added by unknown]<br>Well, that is the story of the stubborn goat<br>Pharaoh should have known that chariots do not float<br>The lesson is simple, it is easy to find<br>When God says, "GO!" you had better mind!<br>“, “Before the throne of God above<br>I have a strong and perfect Plea<br>A great High Priest whose name is Love<br>Who ever lives and pleads for me<br><br>My name is graven on His hands<br>My name is written on His heart<br>I know that while in Heaven He stands<br>No tongue can bid me thence depart<br>No tongue can bid me thence depart<br><br>When Satan tempts me to despair<br>And tells me of the guilt within<br>Upwards I look and see Him there<br>Who made an end to all my sin<br><br>Because the sinless Savior died<br>My sinful soul is counted free<br>For God the Just is satisfied<br>To look on Him and pardon me<br>To look on Him and pardon me<br><br>Behold Him there, the risen Lamb<br>My perfect spotless Righteousness<br>The great unchangeable I Am<br>The King of glory and of grace<br><br>One with Himself, I cannot die<br>My soul is purchased by His blood<br>My life is hid with Christ on high<br>With Christ, my Savior and my God<br>With Christ, my Savior and my God<br><br>One with Himself, I cannot die<br>My soul is purchased by His blood<br>My life is hid with Christ on high<br>With Christ, my Savior and my God<br>With Christ, my Savior and my God'];
var lyrics_counter = 0;


// var song_name = $.ajax({
// 	url: '/getSongName',
// 	success: function(data) {
// 		console.log(data);
// 	},
// 	error: function() {
// 		console.log('error found')
// 	}

// });

function populate_search_results() {
	// song_name = document.getElementById('user-input').value;

	// var loader = document.getElementById('loader2');
	// loader.remove('')
	// awaitSleep(2000);
	// remove_loader();

	document.getElementById('search-results').innerHTML='';
	document.getElementById('search_results').classList.remove('hide');

	// console.log("song name: " song_name[0])

	for (var i = 0; i < song_name.length; i++) {
		var song_item = '<a id="song' 
		+ i.toString()
		+ '" href="#" class="list-group-item" onclick="addSong()">'																
		+ song_name[i]
		+ '<span class="glyphicon glyphicon glyphicon-plus" style="float: right;"></span>'
		+ '</a>'
		$(song_item).appendTo("#search-results")

		var id = "song" + i.toString();

		$('#'+id).click(addEventListener);
	}
};

function addEventListener() {
	if (counter > 0) {
		var id = $(this).attr('id')+ 0;
		console.log('triggered');

		var string = '<li><a data-toggle="tab" href="#' + id + '">'
		+ $(this).text()
		+ '</a></li>';

		$(string).appendTo("#song-list");

		var tab_item = '<div id="' + id + '" class="tab-pane fade in text-center" >'
		+ '<div><br>';

		tab_item += lyrics[lyrics_counter - 1];
		tab_item = tab_item + '</div>';
		lyrics_counter++;


		var new_id = "hello" + song_count + '0';

		$(tab_item).appendTo('#tab-master');

		if (counter == 1) {
			var newBody = document.getElementById("songListActual").innerHTML;
			document.getElementById("songListContainer").innerHTML = newBody;

			var toAdd = '<p><a id ="' + new_id + '" class="list-group-item active">' + $(this).text() + '</a></p>';
			$(toAdd).appendTo('#songListContainer');
		}

		else {
			var toAdd = '<p><a id="' + new_id + '" class="list-group-item">' + $(this).text() + '</a></p>';
			$(toAdd).appendTo('#songListContainer');
		}

		$('#'+new_id).click(addEventListenerForSongView);


		song_count++;
	}


	counter++;

};

function addEventListenerForSongView() {
	$(this).addClass('active')
}

function remove_loader() {
	$('#loader2').addClass('hide');
}

function sleep(ms) {
	return new Promise(resolve => setTimeout(resolve, ms));
}