{% extends 'layouts/base.html' %}

{% block content %}

	<!-- Company Name -->
	<div class="container-fluid page-header">
		<h1 align="center" class="text-warning">PlaySet <small>Lyrics</small></h1>
	</div>
	<!-- Company Name -->

	<div id='loader2' class="container hide">
		<div class="row">
			<div id="loader">
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="dot"></div>
				<div class="landing"></div>
			</div>
		</div>
	</div>

	<!-- Modal -->
	<div class="container">
		<div class="modal fade" id="myModal" role="dialog">
			<div class="modal-dialog">

				<!-- Modal Content -->
				<div class="modal-content">

					<!-- Logo -->
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h1 align="center" class="text-warning">PlaySet <small>Lyrics</small></h1>
					</div>
					<!-- Logo -->


					<!-- Join/Create Buttons-->
					<div id="modal-body" class="modal-body" align="center">	
						<button type="button" class="btn btn-lg btn-success" data-dismiss="modal" onclick="createSession()">Create</button>
						<button id="join" type="button" class="btn btn-lg btn-danger" onclick="joinPlaySet()">Join</button>
					</div>
					<!-- Join/Create Buttons-->


					<!-- Enter Join ID -->
					<div id="modal-body-join" class="modal-body hide" align="center">	

						<form>
							<div class="input-group">
								<div class="input-group-btn">
									<button id = "join-session" class="btn btn-default" type="submit" onclick="joinSession()">
										<i class="glyphicon glyphicon-headphones"></i>
									</button>
								</div>
								<input type="text" class="form-control" placeholder="Enter ID"
								onkeyup = "if (event.keyCode == 13);">
							</div>
						</form>

					</div>
					<!-- Enter Join ID -->

				</div>
				<!-- Modal Content -->

			</div>

		</div>

	</div>
	<!-- Modal -->



	<!-- Main Panel -->
	<div class="container-fluid">

		<!-- Song List Container -->
		<div id="songListContainer" class="col-sm-2 sidenav list-group text-center"> </div>
		<!-- Song List Container -->

		<!-- TO DO: Implement a function that changes songListContainer to songListActual.
		AND for every selected song, display a list-grou-item. -->
		<!-- Actual Song List -->
		<div id="songListActual" class="col-sm-2 sidenav list-group text-center hide"></div>
		<!-- Actual Song List -->


		<!-- Tabs -->
		<div class="col-sm-8">

			<!-- Search Bar -->
			<div>
				<div class="input-group">
					<div class="input-group-btn">
						<button id='search-button' class="btn btn-default" type="submit" onclick="populate_search_results()">
							<i class="glyphicon glyphicon-search"></i>
						</button>
					</div>
					<input id='user-input' type="text" class="form-control" placeholder="Search" 
					onkeyup = "if (event.keyCode == 13) populate_search_results();">
				</div>
			</div>
			<!-- Search Bar -->

			<br>

			<!-- Tab Names -->
			<ul id = 'song-list' class="nav nav-tabs">

				<!-- TO DO: Show search results when a search is performed -->
				<li id = 'search_results' class="active hide"><a data-toggle="tab" href="#search">Search Results</a></li>
			</ul>
			<!-- Tab Names -->

			<!-- Tab Content -->
			<div id = 'tab-master' class="tab-content">

				<!-- Search Tab -->
				<div id="search" class="tab-pane fade in active">

					<!-- Search Results -->
					<div id="search-results" class="list-group">
					<!-- 	{% for song_name in song_names %}
                            <a id="song{{loop.index0}}" href="#" class="list-group-item" onclick="addSong()">
                            	{{ song_name }}
                            	<span class="glyphicon glyphicon glyphicon-plus" style="float:right;"></span>
                            </a>
                        {% endfor %} -->
					</div>
					<!-- Search Results -->

				</div>
				<!-- Search Tab -->


				<!-- Song Tab -->

				<!-- TO DO: For every selected song (i.e. a song with its own tab) 
				display it's lyrics -->


<!--  				{% for song_name in song_names %}

					<div class="tab-pane fade">
						<h3>Song Name</h3>
						<p>{song_name}</p>
					</div>

					{% endfor %}
 -->				<!-- Song Tab -->


			</div>
			<!-- Tab Content -->

		</div>
		<!-- Tabs -->

	</div>
	<!-- Main Panel -->


	<!-- Snackbar Success-->
	<div id="snackbar">Success! Song added.</div>
	<!-- Snackbar Success-->

	<!-- Snackbar Session Created-->
	<div id="snackbar2">Success! Add songs above.</div>
	<!-- Snackbar Session Created-->


	<script src="../static/js/populate_data.js"></script>

	<script type="text/javascript">
    	$(window).on('load',function(){
    $('#myModal').modal('show');
		});
	</script>
	<script type="text/javascript">
	// Join Button
	function joinPlaySet() {
	    var newBody = document.getElementById("modal-body-join").innerHTML;
	    document.getElementById("modal-body").innerHTML = newBody;
	}

	// Snackbar
	function addSong() {
	    // Get the snackbar DIV
	    var x = document.getElementById("snackbar");

	    // Add the "show" class to DIV
	    x.className = "show";

	    // After 3 seconds, remove the show class from DIV
	    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
	}

	// Create session (display a notification) 
	function createSession() {
	    // Get the snackbar DIV
	    var x = document.getElementById("snackbar2");

	    // Add the "show" class to DIV
	    x.className = "show";

	    // After 3 seconds, remove the show class from DIV
	    setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
	}

	// Join session
	function joinSession() {
	    document.getElementById('modal-body').innerHTML = 'Session does not exist! Please try again.';
	}

	</script>
{% endblock %}